var V=Object.defineProperty,j=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var N=(l,s,c)=>s in l?V(l,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[s]=c,B=(l,s)=>{for(var c in s||(s={}))P.call(s,c)&&N(l,c,s[c]);if(C)for(var c of C(s))Z.call(s,c)&&N(l,c,s[c]);return l},I=(l,s)=>j(l,F(s));import{r as d,o as p,c as g,a as u,w as q,v as Y,b as z,F as h,d as _,u as G,e as $,f as w,t as H,g as X}from"./vendor.5d531aa8.js";const J=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))y(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&y(m)}).observe(document,{childList:!0,subtree:!0});function c(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function y(a){if(a.ep)return;a.ep=!0;const i=c(a);fetch(a.href,i)}};J();const Q={key:0,class:"key"},W={name:"key"},ee=$("Register and paste "),te=u("a",{href:"https://pixabay.com/api/docs/"},"Pixabay",-1),oe=$(" Key: "),ae={class:"main"},se={class:"main-lane"},ne=["onDragstart","onTouchstart","onMousedown"],re=["src"],ce={class:"main-lane"},ie=["onDrop","onTouchend"],le=["src","id"],ue=["src","id"],de={setup(l){const s=["apple","banana","cat","dog","elephant","fish","giraffe","horse","iguana","jungle","kangaroo","lion","monkey","newt","octopus","penguin","rose","snow","tiger","unicorn","violin","whale","xylophone","zebra"];d(0),d(),d("/youawesome.m4a");const c=3,y=d([]),a=d(localStorage.getItem("key")),i=e=>`https://pixabay.com/api/?key=${a.value}&q=${e}&image_type=photo&pretty=true`;let m=d({}),f=d([]);const k=async()=>{for(const e of s){const o=await(await fetch(i(e))).json();m.value[e]=o.hits}},O=()=>{const e=v(s),t=I(B({},v(m.value[e])),{category:e});return[e,t]},D=async()=>{let e=[],t=[];for(let o=0;o<c;o+=1){const[n,r]=O();e.push(r),t.push(n)}f.value=e,y.value=t};k().then(D);const T=e=>{const t=new SpeechSynthesisUtterance;t.text=e,window.speechSynthesis.speak(t)},b=async e=>{const t=document.getElementById(e);console.log(t);try{await t.play()}catch(o){console.log({type:"play error",error:o})}},v=e=>e[Math.floor(Math.random()*e.length)],L=["youawesome","NiZhenBang","TaiBangLe","HenBang"],x=["ZaiLaiYiCi","XiaCiZaiLai"],R=(e,t)=>{e.dataTransfer.setData("source",e.target),e.dataTransfer.setData("index",t),console.log("drag",e)},U=(e,t)=>{T(f.value[t].category),e.dataTransfer.setData("source",e.target),e.dataTransfer.setData("index",t)},A=(e,t)=>{T(f.value[t].category)},S=async(e,t)=>{const o=e.dataTransfer.getData("source"),n=e.dataTransfer.getData("index");console.log("drop",e,o);const r=f.value[n];r&&r.tags&&r.tags.includes(t)||r&&r.category===t?(console.log({result:"great work",image:r,category:t}),await b(v(L))):(console.log({result:"try again",image:r,category:t}),await b(v(x))),D()},E=e=>{},M=d(!a.value),K=()=>{localStorage.setItem("key",a.value),M.value=!1,k()};return document.body.addEventListener("touchmove",function(e){e.preventDefault()},!1),(e,t)=>(p(),g(h,null,[M.value?(p(),g("div",Q,[u("label",W,[ee,te,oe,q(u("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o)},null,512),[[Y,a.value]])]),u("button",{onClick:K},"Save Key")])):z("",!0),u("div",ae,[u("div",se,[(p(!0),g(h,null,_(G(f),(o,n)=>(p(),g("div",{class:"main-cell centered",onDragstart:r=>R(r,n),onTouchstart:r=>U(r,n),onMousedown:r=>A(r,n),draggable:"true"},[u("img",{src:o.largeImageURL},null,8,re)],40,ne))),256))]),u("div",ce,[(p(!0),g(h,null,_(y.value,o=>(p(),g("div",{class:"main-cell centered category",key:o,onDrop:w(n=>S(n,o),["prevent"]),onTouchend:w(n=>S(n,o),["prevent"]),onDragover:t[1]||(t[1]=w(n=>E(),["prevent"]))},H(o),41,ie))),128))])]),(p(),g(h,null,_(L,(o,n)=>u("audio",{key:`correct-${n}`,src:`/${o}.m4a`,type:"audio/mp4",id:o},null,8,le)),64)),(p(),g(h,null,_(x,(o,n)=>u("audio",{key:`wrong-${n}`,src:`/${o}.m4a`,type:"audio/mp4",id:o},null,8,ue)),64))],64))}};X(de).mount("#app");
